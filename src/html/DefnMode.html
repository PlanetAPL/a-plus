<HTML>
<HEAD>
<TITLE>A+ Function Definition Mode Tips</TITLE>
</HEAD>
<BODY BGCOLOR="ffffdd">

<H2><FONT color="#20B2AA">A+ Function Definition Mode Tips:&nbsp;
   <i><FONT color=red>"Do"</FONT></i>s and <i><FONT color=red>"Don't"</FONT></i>s</FONT></H2>
   Here is a sample showing a couple of small defined functions,
   with some discussion regarding their respective anatomies:


<ol type=A>


</* ------------------------------------------------------------------->
<hr>
<image src="DefnLM01.gif" border="1">
<b><li></b>
   A unit of code that may be called a "program" or a "subroutine"
   in other languages is called a "<b>function</b>" in A+.
   (This term betrays some of the mathematical origins of the A+ language.)
   A function takes in data (in the form of its one or more arguments),
   processes it (with the code within its definition),
   and returns new data (in the form of its one or more results).
<p>
   Here are two small sample functions, named "<FONT face=Kapl>Trail</FONT>" and "<FONT face=Kapl>DMB</FONT>".
<p>
   A function may be defined entirely on one line
   (as shown with the "<FONT face=Kapl>Trail</FONT>" function),
   or on multiple lines (as shown with the "<FONT face=Kapl>DMB</FONT>" function).
<p>
   Although functions can be created within the A+ environment,
   they cannot be edited or saved from within the A+ environment;
   it is therefore most common to enter functions
   from within the Emacs or XEmacs editor.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<image src="DefnLM02.gif" border="1">
<b><li></b>
   This is the "<b>header line</b>" of the function definition.
   It establishes the name of the function,
   and the number of arguments that the function may use.
   See "Types of Headers."
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM03.gif" border="1">
<b><li></b>
   An <b>opening brace</b> ("{") begins the definition of a multi-line function.
   Braces are <i>optional</i> for a function that is defined entirely on one line.
<p>
   You may type the definition in on the same line as the header,
   or you may press the Enter key and put the code that defines the function
   on successive lines under the heading.
   The definition is ended when you enter a <b>closing brace</b> ("}")
   which is paired with the opening brace.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM04.gif" border="1">
<b><li></b>
   Everything between the outermost braces
   constitutes the "<b>body</b>" of the function.
   (The braces are optional for a function defined on one line.)
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM05.gif" border="1">
<b><li></b>
   A <b>colon</b> separates the header line from the body of the function.
   Spaces may optionally be placed before and after the colon,
   but are not required.
<p>
   In general, <b>spaces</b> may be inserted between names and symbols
   in a function in order to aid visual clarity.
   These spaces have no effect on the operation of the code.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM06.gif" border="1">
<b><li></b>
   By convention (only),
   it is common to have the heading and opening brace on a line by itself,
   and the closing brace also on a separate line.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM07.gif" border="1">
<b><li></b>
   The <b>indentation</b> of the lines must be entered manually;
   lines are not automatically indented.
   The system, however, will retain the indentation that you provide.
   It may be desirable to use indentation for clarity.
   How much each line is indented is up to you.
   You can enhance the readability of your functions
   through the judicious use of indentation,
   and in particular, by being <i>consistent</i> with your indentation style.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM08.gif" border="1">
<b><li></b>
   <b>Extra blanks</b> may optionally be used between A+ symbols.
   This may be desirable for clarity
   (although it has no effect at all on the execution of the code).
   Blanks may help to visually separate blocks of code within a line.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM09.gif" border="1">
<b><li></b>
   A <b>semicolon</b>&nbsp;<i>must</i> be used at the end of each line -
   except for the last line of code in the function:
   the last line <i>must not</i> end with a semicolon.
   (Comment lines do not need semicolons; see below.)
<p>
   If semicolons are not used properly,
   a common symptom is that the function might execute with no error reports,
   but may not return a result to you.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM10.gif" border="1">
<b><li></b>
   Any line which begins with a lamp symbol ("<font face=Kapl>ã</font>")
   is a <b>comment line</b>.
   Nothing else on a comment line is evaluated or executed
   (...a lamp is used for illumination only...).
<p>
   It is <i>very</i> desirable to include comments with your code.
   Many people commonly start a function definition
   with one or more comment lines
   which explain the overall purpose of this particular unit of code
   and describe its arguments and result.
<p>
   Comments may appear anywhere within the body of a function.
   Everything to the right of a comment symbol,
   up to the end of the line,
   is considered to be part of the comment.
   Therefore, whether a comment line ends with a semicolon or not is immaterial;
   if a semicolon character is present at the end of a comment line,
   it is just part of the comment.
<p>
   You cannot put an ending brace on a comment line,
   because the brace will just be considered to be part of the comment.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM11.gif" border="1">
<b><li></b>
   If there is a <b>semicolon</b> character <i>within</i> the <b>comment</b>,
   it is simply part of the comment.
   A semicolon to the right of a comment symbol does <i>not</i> end the comment;
   a comment may only be ended by the end of the line
   (i.e., by pressing the Enter key).
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM12.gif" border="1">
<b><li></b>
   A <b>comment</b> which appears to the right of a line of code
   <i>must follow</i> that line's ending semicolon.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM13.gif" border="1">
<b><li></b>
   The <b>header</b> of a function does not indicate
   an assignment of a result (as it does in other APL implementations),
   because <i>all</i> A+ functions return results.
<p>
<br><spacer type=vertical size=25>


</* ------------------------------------------------------------------->
<hr>
<img src="DefnLM14.gif" border="1">
<b><li></b>
   An <b>assignment of a result variable</b> is also <i>not needed</i>
   within the body of a function.
   The result of the function is simply the result of the <i>last operation</i>,
   whether that was an assignment to a variable (of any arbitrary name)
   or the result of an operation with no assignment.
</ol>
<p>
<br><spacer type=vertical size=25>


<HR noshade size=2>
<ADDRESS><table width="100%"><tr><td><font size=2><i><a href="mailto:doc@aplusdev.org">doc@aplusdev.org</a></i></font></td><td align=right><font size=2><i>&#169; Copyright 1995&#150;2008 Morgan Stanley Dean Witter &amp; Co.  All rights reserved.</i></font></td></tr></table></ADDRESS>
</BODY>
</HTML>
