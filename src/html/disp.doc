

				disp
				====


0.  Description.

	The disp utility draws a diagram, APL-2 style, of an arbitrary
	A array.

1.  Operation.

	There is one function:

			diagramûdisp.lay array

	where diagram is a character-matrix.

2.  Conventions.

	A-types: 	i	integer
			f	float
			"	character
			`	symbol
			Ê	null
			Ì	box
			Ç	function

	Structure of a diagram:

	Shape information is annotated on the top and left bars.
	Type information is displayed on the bottom bar.

		5		+-+
				|5|
				+i+

		1Ò5		+1+
				|5|
				+i+

		1 1Ò5		+1+
				15|
				+i+

		1 1 1Ò5		++1+
				115|
				+-i+
		etc.

	Empties (0ÅÒ) are displayed as compactly as possible.

		É0		+0
				+i

		É0 0		+0
				0i
		
		É0 0 0		++0
				00i

		etc.

	"½" is used to indicated match-along-an-axis.  Matched sub-arrays are
	elided up to the first non-match.

		2 3ÒÉ3		+3----+
				20 1 2|
				=i----+

		2 2 3ÒÉ3	++3----+
				220 1 2|
				++i----+

		2 2 3ÒÉ2 3	++3----+
				220 1 2|
				+|3 4 5|
				++i----+

		etc.

	iota-form (IOTA=1) compresses numeric arrays using the following
	algorithm:

	  iota{x}:
	    {
	    yûif (`float=©x) yû'1.0«' else '';
	    if ((,0)½nûÒx) y,'0Ò0'
	    else if (0Ån) y,'0'
	    else if (0=#n) y,1Õîx
	    else if (3>#vû,x) y,1Õîv
	    else if (~x½i+(jûv[1]-iûv[0])«ÉnûÒx) y,1Õîv 
	    else y,(if (i=0) '' else (1Õîi),'+'),(if (j=1) '' else (1Õîj),'«'),'É',1Õîn
	    }

	E.g.:

		É3		+3-+
				|É3|
				+i-+

3.  Variables.

	BOX			if 1, box diagram
	SAME			if 1, do sub-array matching
	HOR			if 1, center display on horizontal axis
	VER			if 1, center display on vertical axis
	IOTA			if 1, search for iota-form
	LINE			if 1, use graphical line drawing characters
	TREE			if 1, diagram is a tree with centered connectors
				if 2, diagram is a tree without centered connectors

	INT			optional _fmt{} for integers
	FLOAT			optional _fmt{} for floats
	
