<HTML>
<HEAD>
<TITLE>A+ Reference: The sys Context</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<A NAME=HEADING771>
<H1><FONT color="#FF0000">The <A NAME=0>sys Context</FONT></H1>
<a name="CONTENTS57">
<UL>
<A HREF="#HEADING772"> Introduction</A><BR>
<A HREF="#HEADING773"> Functions that Modify Arguments</A><BR>
<A HREF="#HEADING774"> Path Names</A><BR>
<A HREF="#HEADING775"> File Permissions Mode</A><BR>
<A HREF="#HEADING776"> Manifest Constants</A><BR>
<A HREF="#HEADING777"> Definitions of sys-Context Functions</A> (alphabetized by A+
 function name)<BR>
<UL>
<font face=Kapl><A HREF="#HEADING791">sys.access{f;m}</A> </font>access<BR>
<font face=Kapl><A HREF="#HEADING830">sys.agetdents{f}</A> </font>Directory Entries<BR>
<font face=Kapl><A HREF="#HEADING817">sys.alstat{c}</A> </font>Linked File Stats<BR>
<UL>
<A HREF="#HEADING793">Table:&nbsp; sys.astat and sys.alstat Results in Terms of stat System Call Result</A><BR>
</UL>
<font face=Kapl><A HREF="#HEADING783">sys.amsync{a;i}</A> </font>Synchronize a Mapped File<BR>
<font face=Kapl><A HREF="#HEADING848">sys.aread{f;w}</A> </font>Read from a Socket<BR>
<font face=Kapl><A HREF="#HEADING816">sys.areadlink{f}</A> </font>Readlink<BR>
<font face=Kapl><A HREF="#HEADING849">sys.areadstat{f;w;s}</A> </font>Read from a Socket and Return the Status<BR>
<font face=Kapl><A HREF="#HEADING850">sys.areadwait{f;s;u}</A> </font>Read from a Socket within a Time Interval<BR>
<font face=Kapl><A HREF="#HEADING859">sys.aselect{r;w;x;t}</A> </font>Select<BR>
<font face=Kapl><A HREF="#HEADING792">sys.astat{c}</A> </font>File Stats<BR>
<UL>
<A HREF="#HEADING793">Table:&nbsp; sys.astat and sys.alstat Results in Terms of stat System Call Result</A><BR>
</UL>
<font face=Kapl><A HREF="#HEADING858">sys.awrite{f;a}</A> </font>Write to a Socket<BR>
<font face=Kapl><A HREF="#HEADING831">sys.chdir{s}</A> </font>chdir<BR>
<font face=Kapl><A HREF="#HEADING834">sys.chmod{s;m}</A> </font>chmod<BR>
<font face=Kapl><A HREF="#HEADING836">sys.chown{s;m;n}</A> </font>chown<BR>
<font face=Kapl><A HREF="#HEADING794">sys.close{f}</A> </font>close<BR>
<font face=Kapl><A HREF="#HEADING810">sys.closelog{}</A> </font>closelog<BR>
<font face=Kapl><A HREF="#HEADING838">sys.cpu{}</A> </font>CPU Time<BR>
<font face=Kapl><A HREF="#HEADING795">sys.creat{f;m}</A> </font>create<BR>
<font face=Kapl><A HREF="#HEADING846">sys.dup{f}</A> </font>dup<BR>
<font face=Kapl><A HREF="#HEADING847">sys.dup2{f;g}</A> </font>dup2<BR>
<font face=Kapl><A HREF="#HEADING813">sys.errno{}</A> </font>errno<BR>
<font face=Kapl><A HREF="#HEADING814">sys.errsym{n}</A> </font>Error Symbol<BR>
<font face=Kapl><A HREF="#HEADING785">sys.exit{n}</A> </font>exit<BR>
<font face=Kapl><A HREF="#HEADING781">sys.exp{a}</A> </font>Simplified Export<BR>
<font face=Kapl><A HREF="#HEADING778">sys.export{a;t;f}</A> </font>Export an Array<BR>
<font face=Kapl><A HREF="#HEADING835">sys.fchmod{f;m}</A> </font>fchmod<BR>
<font face=Kapl><A HREF="#HEADING837">sys.fchown{f;m;n}</A> </font>fchown<BR>
<font face=Kapl><A HREF="#HEADING860">sys.fcntl{f;c;a}</A> </font>fcntl<BR>
<font face=Kapl><A HREF="#HEADING786">sys.fflush_stdout{}</A> </font>Flush Standard Out<BR>
<font face=Kapl><A HREF="#HEADING796">sys.filesize{f}</A> </font>File Size<BR>
<font face=Kapl><A HREF="#HEADING797">sys.flock{f;o}</A> </font>flock<BR>
<font face=Kapl><A HREF="#HEADING798">sys.fsync{f}</A> </font>fsync<BR>
<font face=Kapl><A HREF="#HEADING806">sys.ftruncate{f;n}</A> </font>ftruncate<BR>
<font face=Kapl><A HREF="#HEADING821">sys.getdomainname{}</A> </font>Domain Name<BR>
<font face=Kapl><A HREF="#HEADING799">sys.getdtablesize{}</A> </font>getdtablesize<BR>
<font face=Kapl><A HREF="#HEADING826">sys.geteuid{}</A> </font>geteuid<BR>
<font face=Kapl><A HREF="#HEADING822">sys.getgid{}</A> </font>getgid<BR>
<font face=Kapl><A HREF="#HEADING823">sys.gethostname{}</A> </font>Host Name<BR>
<font face=Kapl><A HREF="#HEADING824">sys.getpid{}</A> </font>getpid<BR>
<font face=Kapl><A HREF="#HEADING825">sys.getppid{}</A> </font>getppid<BR>
<font face=Kapl><A HREF="#HEADING851">sys.getsockopt{s,l,on,ov,ol}</A> </font>getsockopt<BR>
<font face=Kapl><A HREF="#HEADING841">sys.gettod{x}</A> </font>Time of Day<BR>
<font face=Kapl><A HREF="#HEADING827">sys.getuid{}</A> </font>getuid<BR>
<font face=Kapl><A HREF="#HEADING828">sys.getusername{}</A> </font>User Name<BR>
<font face=Kapl><A HREF="#HEADING782">sys.imp{v}</A> </font>Simplified Import<BR>
<font face=Kapl><A HREF="#HEADING779">sys.import{v;t}</A> </font>Import an A+ Array<BR>
<UL>
<A HREF="#HEADING780">Table:&nbsp; CDR-to-A+ Type Conversion</A><BR>
</UL>
<font face=Kapl><A HREF="#HEADING861">sys.ioctl{f;c;a}</A> </font>ioctl<BR>
<font face=Kapl><A HREF="#227">sys.kill{n;s}</A> </font>kill<BR>
<font face=Kapl><A HREF="#HEADING818">sys.link{a;b}</A> </font>link<BR>
<font face=Kapl><A HREF="#HEADING800">sys.lseek{f;o;w}</A> </font>lseek<BR>
<font face=Kapl><A HREF="#HEADING832">sys.mkdir{f;m}</A> </font>mkdir<BR>
<font face=Kapl><A HREF="#HEADING844">sys.mkts1{x}</A> </font>Time in Seconds<BR>
<font face=Kapl><A HREF="#HEADING801">sys.open{f;l;m}</A> </font>open<BR>
<font face=Kapl><A HREF="#HEADING811">sys.openlog{c;l;f}</A> </font>openlog<BR>
<font face=Kapl><A HREF="#HEADING802">sys.pathfind{v;p;f;m}</A> </font>pathfind<BR>
<font face=Kapl><A HREF="#HEADING815">sys.perror{v}</A> </font>perror<BR>
<font face=Kapl><A HREF="#HEADING803">sys.read{f;a;n}</A> </font>File to Character Vector<BR>
<font face=Kapl><A HREF="#HEADING787">sys.readenv{x}</A> </font>getenv<BR>
<font face=Kapl><A HREF="#HEADING862">sys.readinto{f;b;n}</A> </font>read<BR>
<font face=Kapl><A HREF="#HEADING784">sys.readmat{f}</A> </font>File to Character Matrix<BR>
<font face=Kapl><A HREF="#HEADING804">sys.rename{f;g}</A> </font>rename<BR>
<font face=Kapl><A HREF="#HEADING833">sys.rmdir{f}</A> </font>rmdir<BR>
<font face=Kapl><A HREF="#HEADING845">sys.secs_in_epoch{}</A> </font>Seconds in Epoch<BR>
<font face=Kapl><A HREF="#HEADING788">sys.setenv{x}</A> </font>putenv<BR>
<font face=Kapl><A HREF="#HEADING852">sys.setsockopt{s,l,on,ov,ol}</A> </font>setsockopt<BR>
<font face=Kapl><A HREF="#HEADING856">sys.sfe{v;a}</A> </font>Socket ForkExec<BR>
<font face=Kapl><A HREF="#HEADING789">sys.sleep{s}</A> </font>sleep<BR>
<font face=Kapl><A HREF="#HEADING853">sys.sockaccept{f;w}</A> </font>Socket Accept<BR>
<font face=Kapl><A HREF="#HEADING854">sys.sockblock{f;b}</A> </font>Socket Block<BR>
<font face=Kapl><A HREF="#HEADING855">sys.sockconnect{h;p}</A> </font>Socket Connect<BR>
<font face=Kapl><A HREF="#HEADING857">sys.socklisten{p}</A> </font>Socket Listen<BR>
<font face=Kapl><A HREF="#HEADING819">sys.symlink{a;b}</A> </font>symlink<BR>
<font face=Kapl><A HREF="#HEADING812">sys.syslog{a;m}</A> </font>syslog<BR>
<font face=Kapl><A HREF="#HEADING790">sys.system{v}</A> </font>system<BR>
<font face=Kapl><A HREF="#HEADING805">sys.truncate{f;n}</A> </font>truncate<BR>
<font face=Kapl><A HREF="#HEADING840">sys.ts{}</A> </font>Current Local Time<BR>
<font face=Kapl><A HREF="#HEADING843">sys.ts1{c}</A> </font>Local Time<BR>
<font face=Kapl><A HREF="#HEADING842">sys.ts1gmt{c}</A> </font>GMT<BR>
<font face=Kapl><A HREF="#HEADING839">sys.tsgmt{}</A> </font>Current GMT<BR>
<font face=Kapl><A HREF="#226">sys.tzset{}</A> </font>Reset Time Zone<BR>
<font face=Kapl><A HREF="#HEADING807">sys.umask{m}</A> </font>umask<BR>
<font face=Kapl><A HREF="#HEADING820">sys.unlink{f}</A> </font>unlink<BR>
<font face=Kapl><A HREF="#HEADING808">sys.updtime{f}</A> </font>File Update Time<BR>
<font face=Kapl><A HREF="#HEADING829">sys.username{i}</A> </font>User Name from ID<BR>
<font face=Kapl><A HREF="#HEADING809">sys.write{f;a;n}</A> </font>write<BR>
<font face=Kapl><A HREF="#HEADING856A"> sys.zombiekiller{}</A> </font>Delete Defunct Children<BR>
</UL>
</UL>
<HR>
<A NAME=HEADING772>
<H1><FONT color="#20B2AA">Introduction</FONT></H1>
<blockquote>
The sys context is native to A+.  It is not to be loaded.<P>
<A NAME=2>Many of the sys-context functions are equivalent to Unix system calls or C-library
 routines.  These system calls and library routines are not described here, but only their
 relationships to the sys-context functions.  See the system manual pages for documentation.
 For example, the documentation on the<font face=Courier> chmod() </font>system call can be
 viewed by executing<font face=Courier> man&nbsp;2&nbsp;chmod </font>in an XTerm session,
 while the documentation on the<font face=Courier> times() </font>library routine can be
 viewed by executing<font face=Courier> man&nbsp;3&nbsp;times</font>.
</blockquote>
<A NAME=HEADING773>
<H1><FONT color="#20B2AA">Functions <A NAME=4>that Modify Arguments</FONT></H1>
<blockquote>
<A NAME=5>Some functions in this chapter, e.g., <font face=Kapl>sys.fcntl</font>, modify some of their arguments.  In such cases, the argument should have a name and the name should be used in the argument position, for then you can see the changes after the function has completed execution.  In addition, you must be sure that other objects are not modified as well.  The reason is that A+ manages reference counts on objects, meaning that at any point in an execution two or more names can actually share the same array value; sharing stops when the value of one of the objects changes in a normal A+ way.  However, when functions like <font face=Kapl>sys.fcntl</font> modify an array value, that is not a normal A+ value change, and all names that had previously shared the value will now share the modified value.  The remedy is to replace the named argument <font face=Kapl>a</font> with something like <font face=Kapl>a0û(Òa)Òa</font>.
</blockquote>
<A NAME=HEADING774>
<H1><FONT color="#20B2AA">Path <A NAME=6>Names</FONT></H1>
<blockquote>
<A NAME=8>Path names to files and directories are represented by character vectors.  Since Unix file names can contain blanks, blanks in the character vectors are considered significant.  In particular, trailing blanks are considered significant, and therefore should be removed from the character vector representations unless they are necessary.  Both </font><font face=Kapl>sys.astat</font> and <font face=Kapl>sys.alstat</font>, however, do remove trailing blanks.
</blockquote>
<A NAME=HEADING775>
<H1><FONT color="#20B2AA">File <A NAME=10>Permissions Mode</FONT></H1>
<blockquote>
<A NAME=11>When a Unix file is created, its access permission characteristics are set, specifying who can read, write, and execute the file.  The access permission characteristics are represented numerically as 4 for read, 2 for write, and 1 for execute.  In addition, any additive combination of these three is allowed.  For example, a file that is both readable and executable has file access 4+1, or 5, while a file opened for both reading and writing is opened with access permission 4+2, or 6.  All possible access permissions are represented by the integers 1 through 7.<P>
Files have access characteristics for three independent classes of users: owner of the access, group access, and general access.  If the access permissions are <font face=Kapl>o</font> for the owner, <font face=Kapl>g</font> for the group, and <font face=Kapl>u</font> for general users, then the access permissions of the file is the octal representation <font face=Kapl>8&nbsp;8&nbsp;8Âo,g,u</font>.
</blockquote>
<A NAME=HEADING776>
<H1><FONT color="#20B2AA">Manifest <A NAME=12>Constants</FONT></H1>
<blockquote>
<A NAME=14>Many of the sys-context functions are equivalent to Unix system calls. These
 system calls often have parameters which are specified by so-called manifest constants.
 For example, to open a file (in a C-language program) for reading only, one of the
 parameters to the open system call would be<font face=Courier> O_RDONLY</font>.&nbsp;
 These constants can be specified in two ways in A+, either as symbols or integers.
 The symbol form is the most direct since it uses the names of the constants unchanged,
 and the names of these constants can be found in the "man page" documentation for the
 system calls. For example, in the case of the opening a file for reading only, the A+
 function <font face=Kapl>sys.open</font> would be called with the second
 argument<font face=Kapl> `O_RDONLY</font>. The integer values of the constants can also
 be used, and can be found in the appropriate include files, although you are urged to use
 the symbols.<P>
<b><font color=red>Warning!</font></b> The integer values may differ for Sun, IBM, and
 other systems.<p>
When more than one constant is to be specified, simply call the A+ function with the
 appropriate symbol vector. To use an integer argument in this case, OR the integer values
 of the individual constants together bitwise.
</blockquote>
<A NAME=HEADING777>
<H1><FONT color="#20B2AA">Definitions of sys-Context Functions</FONT></H1>
<A NAME=HEADING778>
<H2><FONT color="#20B2AA">Export <A NAME=17>an Array<font face=Kapl>  sys.export{a;t;f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>a</font> is any A+ array that does not contain a function expression, <font face=Kapl>t</font> is a character vector of length 256 or 0 (or the Null), and <font face=Kapl>f</font> is an integer scalar.  The result is a one- or two-element nested vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
<A NAME=18>This function maps the object <font face=Kapl>a</font> to CDR (Common Data Representation) format for transferring among workstations or to APL systems.  The argument <font face=Kapl>t</font> is a translation table.  For example, if the object is to be sent to an APL2 system, then character (sub)arrays should be translated to EBCDIC character encoding.  If the length of <font face=Kapl>t</font> is 0 then no translation occurs.  The argument <font face=Kapl>f</font> is a boolean flag.  If 1, symbols are not modified; if 0, which should be used when transferring A+ arrays to APL systems, symbols are converted to character vectors and the character translation defined by <font face=Kapl>t</font> is applied.  If the mapping of <font face=Kapl>a</font> to CDR format is successful, the result is a two-element nested vector of the form <font face=Kapl>(0;v)</font>, where <font face=Kapl>v</font> is the CDR formatted object.  If the mapping fails, the result is of the form <font face=Kapl>1Ò&lt;n</font>, where the integer <font face=Kapl>n</font> is related to the length of the mapped portion of <font face=Kapl>a</font> at the time the error occurred.<P>
The function <font face=Kapl>sys.exp</font> should be used in place of this function.</BLOCKQUOTE>
<A NAME=HEADING779>
<H2><FONT color="#20B2AA">Import <A NAME=21>an A+ Array<font face=Kapl>  sys.import{v;t}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
Both the left argument <font face=Kapl>v</font> and the right argument <font face=Kapl>t</font> are character vectors; the right argument can also be the Null.  The length of the right argument is either 0 or 256.  The result is a one- or two-element nested vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function maps the CDR (Common Data Representation) formatted array <font face=Kapl>v</font> to an A+ object.  The left argument <font face=Kapl>v</font> is the CDR formatted array.  The right argument <font face=Kapl>t</font> is a translation table.  For example, if the left argument <font face=Kapl>v</font> comes from an APL2 system, then character (sub)arrays must be translated from EBCDIC character encoding.  If the length of <font face=Kapl>t</font> is 0 then no translation occurs.  If <font face=Kapl>v</font> is successfully mapped to an A+ object then the result is a two-element nested vector of the form <font face=Kapl>(0;a)</font>, where <font face=Kapl>a</font> is the decoded A+ object.  If <font face=Kapl>v</font> cannot be mapped then the result is <font face=Kapl>1Ò&lt;1</font>.<P>
The CDR format allows for a richer set of data types than that used by A+.  These are listed in the table "<A HREF="#151">CDR-to-A+ Type Conversion</A>", along with the A+ data types to which they are mapped.  The mapping fails if <font face=Kapl>v</font> contains elements of data types that are rejected.<P>
The function <font face=Kapl>sys.imp</font> should be used in place of this function.<P>
<A NAME=HEADING780>
<table border=1 cellspacing=0 cellpadding=8>
<caption><FONT color="#20B2AA" size=+2><B>
CDR-to-A+ <A NAME=151>Type Conversion</B></FONT></caption>
<tr>
<th>CDR Type</th><th>A+ Type</th></tr>
<tr>
<td>B1, B4 and B8 (1-bit, 4-bit, and 1-byte boolean)</td><td><font face=Kapl>`int</font></td></tr>
<tr>
<td>I2 and I4 (2-byte and 4-byte integer)</td><td><font face=Kapl>`int</font></td></tr>
<tr>
<td>C1 (1-byte character)</td><td><font face=Kapl>`char</font></td></tr>
<tr>
<td>E4 and E8 (4-byte and 8-byte floating point)<br >
 (assumed to be in IEEE floating-point format)</td><td><font face=Kapl>`float</font></td></tr>
<tr>
<td>G0 (general array)</td><td><font face=Kapl>`box</font></td></tr>
<tr>
<td>S1 (A+ extension to the CDR format for symbols)</td><td><font face=Kapl>`sym</font></td></tr>
<tr>
<td>E16 (16-byte floating point)</td><td>rejected</td></tr>
<tr>
<td>J8, J16 and J32 are rejected<br >
(8-byte, 16-byte, and 32-byte complex numbers)</td>
<td>rejected</td></tr>
<tr>
<td>C4 (4-byte character)</td><td>rejected</td></tr>
<tr>
<td>A8 (integer progression)</td><td>rejected</td></tr>
<tr>
<td>Pn (packed decimal format)</td><td>rejected</td></tr>
<tr>
<td>Zn (zoned decimal format)</td><td>rejected</td></tr>
<tr>
<td>X0 (filler - the data in the object is meaningless)</td><td>rejected</td></tr>
</table><P></BLOCKQUOTE>
<A NAME=HEADING781>
<H2><FONT color="#20B2AA">Simplified <A NAME=25>Export<font face=Kapl>  sys.exp{a}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>a</font> is any A+ object that does not contain function expressions.  The result is a character vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is a simplified version of <font face=Kapl>sys.export</font> for transferring A+ objects among workstations.  That is, <font face=Kapl>sys.exp{a}</font> is essentially equivalent to <font face=Kapl>1Øsys.export{a;();1)</font>.  The result is the CDR format of <font face=Kapl>a</font>.  If the translation fails, a domain error is signalled in the usual A+ manner. A lengthy call can be interrupted by a<font face=Courier> SIGINT </font>(<b>Ctl-c Ctl-c</b> from an Emacs session). This capability allows one to rescue machines that are frozen because of a large <font face=Kapl>sys.exp</font> or <font face=Kapl>adap.Send</font> call.<p>
Handles little-endian files and 64-bit platforms.</BLOCKQUOTE>
<A NAME=HEADING782>
<H2><FONT color="#20B2AA">Simplified <A NAME=28>Import<font face=Kapl>  sys.imp{v}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>v</font> is a character vector.  The result is an A+ array.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is a simplified version of <font face=Kapl>sys.import</font> for transferring A+ objects among workstations.  That is, <font face=Kapl>sys.imp{a}</font> is essentially equivalent to <font face=Kapl>1Øsys.import{a;()}</font>.  The result is the A+ array represented by <font face=Kapl>v</font>.  If the translation fails, a domain error is signalled in the usual A+ manner.<p>
Handles little-endian files and 64-bit platforms.</BLOCKQUOTE>
<A NAME=HEADING783>
<H2><FONT color="#20B2AA">Synchronize<A NAME=33> a Mapped File  <font face=Kapl>sys.amsync{a;i}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>a</font> is a mapped file, and the right argument <font face=Kapl>i</font> is an integer scalar or vector.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function uses the<font face=Courier> msync() </font>system call to synchronize the
 virtual memory pages of the mapped file with the file on disk.  The value of the function
 is the value of that system call.</BLOCKQUOTE>
<A NAME=HEADING784>
<H2><FONT color="#20B2AA">File to <A NAME=36>Character Matrix  <font face=Kapl>sys.readmat{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> is a character vector.  The result is a character matrix, or 0, or the Null.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> holds a path name of a file (see "<A HREF="#6">Path Names</A>").  The result is a character matrix holding the contents of that file; blanks are appended to rows to make them the same length as the longest line in the file.  If the function fails, the result is 0 or the Null.</BLOCKQUOTE>
<A NAME=HEADING785>
<H2><FONT color="#20B2AA">exit  <A NAME=39><font face=Kapl>sys.exit{n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
Both the argument and result are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> exit() </font>system call, for
 exiting from the process. The result of the function is the result of the system call. The
 A+ system function <font face=Kapl>_exit</font> should be used in place of this function.</BLOCKQUOTE>
<A NAME=227>
<H2><FONT color="#20B2AA">kill  <font face=Kapl>sys.kill{n;s}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments</b><BLOCKQUOTE>
The first argument is a scalar integer, the second a scalar symbol.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> kill(pid, sig) </font>system call, for
 sending a signal (the second argument) to a process (the first argument). The signals are:<br>
<table border=0 cellspacing=4 cellpadding=4>
<tr><td><font face=Kapl>`SIGABRT</font></td><td><font face=Kapl>`SIGALRM</font></td><td><font face=Kapl>`SIGBUS</font></td><td><font face=Kapl>`SIGCHLD</font></td></tr>
<tr></font></td><td><font face=Kapl>`SIGCONT</font></td><td><font face=Kapl>`SIGEMT</font></td><td><font face=Kapl>`SIGFPE</font></td><td><font face=Kapl>`SIGHUP</font></td></tr>
<tr></font></td><td><font face=Kapl>`SIGILL</font></td><td><font face=Kapl>`SIGINT</font></td><td><font face=Kapl>`SIGIO</font></td><td><font face=Kapl>`SIGIOT</font></td></tr>
<tr></font></td><td><font face=Kapl>`SIGKILL</font></td><td><font face=Kapl>`SIGPIPE</font></td><td><font face=Kapl>`SIGPROF</font></td><td><font face=Kapl>`SIGQUIT</font></td></tr>
<tr></font></td><td><font face=Kapl>`SIGSEGV</font></td><td><font face=Kapl>`SIGSTOP</font></td><td><font face=Kapl>`SIGSYS</font></td><td><font face=Kapl>`SIGTERM</font></td></tr>
<tr></font></td><td><font face=Kapl>`SIGTRAP</font></td><td><font face=Kapl>`SIGTSTP</font></td><td><font face=Kapl>`SIGTTIN</font></td><td><font face=Kapl>`SIGTTOU</font></td></tr>
<tr></font></td><td><font face=Kapl>`SIGURG</font></td><td><font face=Kapl> `SIGUSR1</font></td><td><font face=Kapl>`SIGUSR2</font></td><td><font face=Kapl>`SIGVTALRM</font></td></tr>
<tr></font></td><td><font face=Kapl>`SIGWINCH</font></td><td><font face=Kapl>`SIGXCPU</font></td><td><font face=Kapl>`SIGXFSZ</font></td></tr></font>
</table></BLOCKQUOTE>
<A NAME=HEADING786>
<H2><FONT color="#20B2AA">Flush Standard Out<font face=Kapl>  <A NAME=42>sys.fflush_stdout{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> fflush(stdout) </font>C-library call. The result is the Null.</BLOCKQUOTE>
<A NAME=HEADING787>
<H2><FONT color="#20B2AA">getenv<A NAME=45>  <font face=Kapl>sys.readenv{x}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>x</font> is a character vector.  The result is either a character vector or the Null.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> getenv() </font>system call, which
 returns the value of the environment variable named in <font face=Kapl>x</font>. The result
 of the function is the result of the system call if the system call is successful, and the
 Null otherwise.</BLOCKQUOTE>
<A NAME=HEADING788>
<H2><FONT color="#20B2AA">putenv<A NAME=48>  <font face=Kapl>sys.setenv{x}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>x</font> is a character vector.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> putenv() </font>system call; the value of the argument <font face=Kapl>x</font> is of the form <font face=Kapl>"NAME=VALUE"</font>, and environment variable named in <font face=Kapl>NAME</font> is given the value specified by <font face=Kapl>VALUE</font>.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING789>
<H2><FONT color="#20B2AA">sleep<font face=Kapl>  <A NAME=51>sys.sleep{s}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>s</font> is a numeric scalar and the result is a scalar integer.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function suspends execution for <font face=Kapl>s</font> seconds.  If <font face=Kapl>s</font> is an integer, negative (treated as 0), or floating-point and greater than 2147 (converted to the nearest
 integer), the<font face=Courier> sleep() </font>system call is used.  Otherwise, <font face=Kapl>s</font> is converted to the nearest microsecond (multiplied by one million and rounded to an integer) and the<font face=Courier> usleep() </font>system call is used.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING790>
<H2><FONT color="#20B2AA">system  <A NAME=54><font face=Kapl>sys.system{v}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument is a character vector.  The result is a scalar integer.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> system() </font>system call, for
 executing character strings as if they were commands typed at a terminal. The result of the
 function is the result of the system call. This result depends upon the particular
 system - <font face=Kapl>sys.system</font> is <font color="#FF0000"><b><i>highly
 nonportable</i></b></font>. If you need advice about the use of this function, you should
 usually ask someone who knows a lot about Unix, and not necessarily someone who knows a
 lot about A+.<p>
Note that <font face=Courier>sh</font> is invoked by default, not
 <font face=Courier>ksh</font>, <font face=Courier>csh</font>, or whatever; in particular,
 this means that<font face=Kapl> ~ </font>in path names is not treated as a "magic"
 character. If you need this or some other property of one of these shells, invoke that
 shell explicitly.</BLOCKQUOTE>
<A NAME=HEADING791>
<H2><FONT color="#20B2AA">access<font face=Kapl>  <A NAME=57>sys.access{f;m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> is a character vector and the right argument <font face=Kapl>m</font> is a symbol scalar or vector, or integer scalar.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> access() </font>system call, for determining the accessibility of a file.  The left argument <font face=Kapl>f</font> holds a path name of a file (see "<A HREF="#6">Path Names</A>"), and the right argument <font face=Kapl>m</font> holds manifest constants (see "<A HREF="#12">Manifest Constants</A>").  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING792>
<H2><FONT color="#20B2AA">File Stats<font face=Kapl>  <A NAME=60>sys.astat{c}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>c</font> is a character array.  The result is an integer array of shape<font face=Kapl> (¢1ÕÒc),13</font>.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The value of this function contains a variety of information produced by the<font face=Courier> stat() </font>system call.  If the argument <font face=Kapl>c</font> is a scalar or vector, it contains a path name of a file, and the result contains 13 entries for that file.  If the argument has rank greater than 2, each cell of rank 1, i.e., each vector along the last axis, is a path name of a file, and the corresponding cell of rank 1 in the result contains 13 entries for that file.  Trailing blanks are removed from the path names in both cases (see "<A HREF="#6">Path Names</A>").  The meanings of these entries in terms of the structure of the stat result are given in the table "<A HREF="#61">sys.astat and sys.alstat Results in Terms of stat System Call Result</A>".  If the<font face=Courier> stat() </font>system call fails for a path name, the corresponding entries in the result are all zero.<P>
<A NAME=HEADING793>
<table>
<caption><FONT color="#20B2AA" size=+1><B>
sys.astat <A NAME=61>and sys.alstat Results in Terms of stat System Call Result</B></FONT>
</caption>
<tr valign=top>
 <td><table border=1 cellspacing=0 cellpadding=8>
 <tr><th>A+ Index</th><th>stat Entry</th></tr>
 <tr><td>0</td><td>st_dev</td></tr>
 <tr><td>1</td><td>st_ino</td></tr>
 <tr><td>2</td><td>st_mode</td></tr>
 <tr><td>3</td><td>st_nlink</td></tr>
 <tr><td>4</td><td>st_uid</td></tr>
 </table></td>
 <td><table border=1 cellspacing=0 cellpadding=8>
 <tr><th>A+ Index</th><th>stat Entry</th></tr>
 <tr><td>5</td><td>st_gid</td></tr>
 <tr><td>6</td><td>st_rdev</td></tr>
 <tr><td>7</td><td>st_size</td></tr>
 <tr><td>8</td><td>st_atime</td></tr>
 </table></td>
 <td><table border=1 cellspacing=0 cellpadding=8>
 <tr><th>A+ Index</th><th>stat Entry</th></tr>
 <tr><td>9</td><td>st_mtime</td></tr>
 <tr><td>10</td><td>st_ctime</td></tr>
 <tr><td>11</td><td>st_blksize</td></tr>
 <tr><td>12</td><td>st_blocks</td></tr>
 </table></td>
</tr></table><P></BLOCKQUOTE>
<A NAME=HEADING794>
<H2><FONT color="#20B2AA">close<A NAME=65><font face=Kapl>  sys.close{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> and the result are scalar integers.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> close() </font>system call, for deleting the file descriptor <font face=Kapl>f</font>.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING795>
<H2><FONT color="#20B2AA">create<font face=Kapl> <A NAME=69> sys.creat{f;m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> is a character vector, and both the right argument <font face=Kapl>m</font> and result are scalar integers.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> creat() </font>system call, for creating a new file or rewriting an existing one.  The left argument <font face=Kapl>f</font> is the path name of a file (see "<A HREF="#6">Path Names</A>"), and the right argument <font face=Kapl>m</font> is the permissions mode (see "<A HREF="#10">File Permissions Mode</A>").  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING796>
<H2><FONT color="#20B2AA"><font face=Kapl></font>File <A NAME=72>Size<font face=Kapl>  sys.filesize{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> is a character vector.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The result is the size in bytes of the open file whose path name is in the argument <font face=Kapl>f</font> (see "<A HREF="#6">Path Names</A>").  This function uses the<font face=Courier> fstat() </font>system call, which provides a variety of information about (possibly) open files.</BLOCKQUOTE>
<A NAME=HEADING797>
<H2><FONT color="#20B2AA">flock<font face=Kapl>  <A NAME=75>sys.flock{f;o}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> is a file descriptor, and the right argument <font face=Kapl>o</font> is a symbol scalar or vector, or integer scalar.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> flock() </font>system call, for
 applying or removing advisory locks on a file. The left argument <font face=Kapl>f</font>
 holds the descriptor of a file. The right argument <font face=Kapl>o</font> holds manifest
 constants (see "<A HREF="#12">Manifest Constants</A>") for the second argument of
 <font face=Courier>flock</font>. The result of the function is the result of the system
 call. For some releases and some architectures, the file must be opened for writing in
 order for this function to succeed.</BLOCKQUOTE>
<A NAME=HEADING798>
<H2><FONT color="#20B2AA">fsync  <A NAME=78><font face=Kapl>sys.fsync{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
Both the argument and result are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> fsync() </font>system call, for synchronizing the incore copy of a file with the copy on disk.  The argument <font face=Kapl>f</font> is a file descriptor.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING799>
<H2><FONT color="#20B2AA">getdtablesize  <A NAME=81><font face=Kapl>sys.getdtablesize{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> getdtablesize() </font>system call, which returns the maximum number of file descriptors.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING800>
<H2><FONT color="#20B2AA">lseek  <A NAME=84><font face=Kapl>sys.lseek{f;o;w}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
All arguments and the result are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> lseek() </font>system call, for setting the pointer in the open file pointed to by the file descriptor <font face=Kapl>f</font>.  The arguments of the function are in the same order as they will be in the call to <font face=Courier>lseek()</font>.  The result of the function is the result of the system call.<P>
For the argument <font face=Kapl>w</font>, use 0 for <font face=Courier>SEEK_SET</font>, 1 for <font face=Courier>SEEK_CUR</font>, and 2 for <font face=Courier>SEEK_END</font>.</BLOCKQUOTE>
<A NAME=HEADING801>
<H2><FONT color="#20B2AA">open<font face=Kapl>  <A NAME=87>sys.open{f;l;m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> is a character vector or symbol. The argument
 <font face=Kapl>l</font> is a symbol vector or scalar, or an integer scalar. The argument
 <font face=Kapl>m</font> and the result are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> open() </font>system call, which
 opens a file for reading, or writing, or both.  The argument <font face=Kapl>f</font>
 holds the path name of a file (see "<A HREF="#6">Path Names</A>"), the argument
 <font face=Kapl>l</font> holds the manifest constants flags for the call
 to<font face=Courier> open() </font>(see "<A HREF="#12">Manifest Constants</A>"), and the
 argument <font face=Kapl>m</font> is the permissions mode (see "<A HREF="#10">File
 Permissions Mode</A>"), perhaps modified by the process's <font face=Courier>umask</font>
 value - see the<font face=Courier> open() </font>man page.  The result of the function is
 the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING802>
<H2><FONT color="#20B2AA">pathfind<font face=Kapl> <A NAME=91> sys.pathfind{v;p;f;m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>v</font>, <font face=Kapl>p</font>, and <font face=Kapl>f</font> are character vectors.  The argument <font face=Kapl>m</font> is an integer scalar.  The result is either a character vector or the Null.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function searches for the file named in the argument <font face=Kapl>f</font>, and returns its full path name if it is found and if it can be opened with the permissions specified by the argument <font face=Kapl>m</font> (see "<A HREF="#10">File Permissions Mode</A>").  Otherwise, it returns the Null.  If the argument <font face=Kapl>v</font> holds an environment variable name, then the value of that variable specifies the search path.  Otherwise, the argument <font face=Kapl>p</font> specifies the search path.</BLOCKQUOTE>
<A NAME=HEADING803>
<H2><FONT color="#20B2AA">File to <A NAME=94>Character Vector  <font face=Kapl>sys.read{f;a;n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font> and <font face=Kapl>n</font>, and the result, are integer scalars.  The argument <font face=Kapl>a</font> is a character vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is nearly equivalent to the<font face=Courier> read() </font>system call, for reading from the object specified by a file descriptor.  The argument <font face=Kapl>f</font> is a file descriptor, <font face=Kapl>n</font> is the number of bytes to be read, and <font face=Kapl>a</font> is an A+ character vector of length at least <font face=Kapl>n</font>.  The effect is to read at most <font face=Kapl>n</font> bytes from the file pointed to by <font face=Kapl>f</font> and place them in the value of <font face=Kapl>a</font>.  The result is the actual number of bytes read.<P>
<b><font color=red>Warning!</font></b>&nbsp; In most uses of <font face=Kapl>sys.read</font>,
 the argument <font face=Kapl>a</font> is a variable, and this variable exhibits the same
 behavior under ordinary assignment as mapped files. Consider the sequence:
<pre><font face=Kapl>     xû100Ò' '
     yûx
     sys.read{fd;x;#x}</font></pre>
At this point the value of <font face=Kapl>y</font> also has the same 100 characters that
 were read from the file into <font face=Kapl>x</font>; that is, <font face=Kapl>y½x</font>
 both before and after the <font face=Kapl>sys.read</font> evaluation.</BLOCKQUOTE>
<A NAME=HEADING804>
<H2><FONT color="#20B2AA">rename<A NAME=97>  <font face=Kapl>sys.rename{f;g}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font> and <font face=Kapl>g</font> are character vectors.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> rename() </font>system call, for renaming links.  The arguments of the function are in the same order as they will be in the call to<font face=Courier> rename()</font>.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING805>
<H2><FONT color="#20B2AA">truncate  <A NAME=100><font face=Kapl>sys.truncate{f;n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> is a character vector.  The right argument <font face=Kapl>n</font> and the result are scalar integers.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> truncate() </font>system call, for specifying the size of a file in bytes.  The left argument <font face=Kapl>f</font> holds the path name of a file and the right argument <font face=Kapl>n</font> is the file size, in bytes.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING806>
<H2><FONT color="#20B2AA">ftruncate  <A NAME=103><font face=Kapl>sys.ftruncate{f;n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
Both arguments and the result are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> ftruncate() </font>system call, for specifying the size of a file in bytes.  The left argument <font face=Kapl>f</font> is a file descriptor and the right argument <font face=Kapl>n</font> is the file size, in bytes.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING807>
<H2><FONT color="#20B2AA">umask  <A NAME=106><font face=Kapl>sys.umask{m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
Both the argument and result are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> umask() </font>system call, for
 changing the session default file creation mask. The result of the function
 is the current setting, so later restoration is possible - including an immediate
 restoration when the aim is only to check the value. The new setting is the exclusive OR
 of<font face=Kapl> m </font>and 666 (octal) for a file or 777 for a directory. Thus an
 argument of 002 gives complete access to the group and read (and directory search) access
 to others.<p>
Execute<br>
<font face=Kapl>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sys.umask Õsys.umask 0;</font><br>
to display the current setting while leaving it unchanged.</BLOCKQUOTE>
<A NAME=HEADING808>
<H2><FONT color="#20B2AA">File <A NAME=109>Update Time  <font face=Kapl>sys.updtime{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument is a character vector. The result is a one-element integer vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument f holds the path name of a file (see "<A HREF="#6">Path Names</A>"). The result
 is the time of the latest update of the file, measured in seconds since 00:00:00 GMT,
 January 1, 1970. This function uses the<font face=Courier> fstat() </font>system call,
 which provides a variety of information about (possibly) open files.</BLOCKQUOTE>
<A NAME=HEADING809>
<H2><FONT color="#20B2AA">write  <A NAME=112><font face=Kapl>sys.write{f;a;n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font> and <font face=Kapl>n</font>, and the result, are
 integer scalars. The argument <font face=Kapl>a</font> is a character vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is nearly equivalent to the<font face=Courier> write() </font>system call,
 for writing in a file. The argument <font face=Kapl>f</font> is a file descriptor
, <font face=Kapl>n</font> is the number of bytes to be written, and
 <font face=Kapl>a</font> is an A+ character vector of length at least
 <font face=Kapl>n</font>. The effect is to write at most <font face=Kapl>n</font> bytes
 from <font face=Kapl>a</font> in the file pointed to by <font face=Kapl>f</font>.
 The result is the actual number of bytes written.<p>
For example,<font face=Kapl> sys.write{1;'hey';#'hey'}; </font>will write 'hey' to stdout,
 and<font face=Kapl> sys.write{2;'ho';#'ho'}; </font>will write 'ho' to stderr, both
 without a newline. The file descriptors 1 and 2 are already opened when you start
 A+;&nbsp; there is no need to call<font face=Kapl> sys.open</font>.</BLOCKQUOTE>
<A NAME=HEADING810>
<H2><FONT color="#20B2AA">closelog  <A NAME=115><font face=Kapl>sys.closelog{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is the Null.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> closelog() </font>system call, for closing the system log.</BLOCKQUOTE>
<A NAME=HEADING811>
<H2><FONT color="#20B2AA">openlog  <A NAME=118><font face=Kapl>sys.openlog{c;l;f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>c</font> is a character vector.  The arguments <font face=Kapl>l</font> and <font face=Kapl>f</font> are symbol vectors or scalars, or integer scalars.  The result is the Null.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> openlog() </font>system call, for initializing the system log file.  The arguments of the function are in the same order as they will be in the call to<font face=Courier> openlog()</font>.&nbsp;  The arguments <font face=Kapl>l</font> and <font face=Kapl>f</font> hold manifest constants (see "<A HREF="#12">Manifest Constants</A>").</BLOCKQUOTE>
<A NAME=HEADING812>
<H2><FONT color="#20B2AA">syslog  <A NAME=121><font face=Kapl>sys.syslog{a;m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>a</font> is a symbol scalar or vector, or an integer scalar.  The right argument <font face=Kapl>m</font> is a character vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> syslog() </font>system call, for logging messages.  The arguments of the function are in the same order as they will be in the call to<font face=Courier> syslog()</font>.&nbsp; The argument <font face=Kapl>m</font> holds manifest constants (see "<A HREF="#12">Manifest Constants</A>").</BLOCKQUOTE>
<A NAME=HEADING813>
<H2><FONT color="#20B2AA">errno<font face=Kapl>  <A NAME=124>sys.errno{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is a scalar integer.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The result is identical to the global<font face=Courier> errno </font>in the Unix system,
 which is set by the last system call. About obtaining error descriptions, see
 <font face=Kapl>sys.errsym</font>, below.</BLOCKQUOTE>
<A NAME=HEADING814>
<H2><FONT color="#20B2AA">Error <A NAME=127>Symbol<font face=Kapl>  sys.errsym{n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>n</font> is a scalar integer.  The result is a scalar
 symbol.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument is an error number, as produced by <font face=Kapl>sys.errno</font> (above).
 The result is text describing the error.</BLOCKQUOTE>
<A NAME=HEADING815>
<H2><FONT color="#20B2AA">perror  <A NAME=130><font face=Kapl>sys.perror{v}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>v</font> is a character vector.  The result is the Null.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> perror() </font>system call, which writes a short error message to standard error describing the error whose number is in<font face=Courier> errno </font>(see <font face=Kapl>sys.errno</font>, above).</BLOCKQUOTE>
<A NAME=HEADING816>
<H2><FONT color="#20B2AA">Readlink<font face=Kapl>  <A NAME=133>sys.areadlink{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument is a character vector.  The result is either a character vector or the scalar integer -1.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument holds a path name of a file (see "<A HREF="#6">Path Names</A>").  If the file is a symbolic link, the result is a character vector holding the name of the file it references.  If the file named in the argument is not a symbolic link, the result is -1.</BLOCKQUOTE>
<A NAME=HEADING817>
<H2><FONT color="#20B2AA">Linked <A NAME=136>File Stats<font face=Kapl>  sys.alstat{c}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>c</font> is a character array.  The result is an integer array of shape<font face=Kapl> (¢1ÕÒc),13</font>.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is the same as <font face=Kapl>sys.astat</font>, except that it uses the<font face=Courier> lstat() </font>system call instead of<font face=Courier> stat()</font>.
</BLOCKQUOTE>
<A NAME=HEADING818>
<H2><FONT color="#20B2AA">link  <A NAME=139><font face=Kapl>sys.link{a;b}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>a</font> and <font face=Kapl>b</font> are character vectors.
 The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> link() </font>system call, for
 establishing file links. The arguments, which are path names (see "<A HREF="#6">Path
 Names</A>") of the function are in the same order as they will be in the call
 to<font face=Courier> link()</font>.<P >
The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING819>
<H2><FONT color="#20B2AA">symlink  <A NAME=142><font face=Kapl>sys.symlink{a;b}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>a</font> and <font face=Kapl>b</font> are character vectors.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> symlink() </font>system call, for creating symbolic links.  The arguments of the function are in the same order as they will be in the call to<font face=Courier> symlink()</font>.&nbsp; The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING820>
<H2><FONT color="#20B2AA">unlink  <A NAME=145><font face=Kapl>sys.unlink{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> is a character vector.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> unlink() </font>system call, for removing the directory entry named by the path name <font face=Kapl>f</font> (see "<A HREF="#6">Path Names</A>") and decrementing the link count on the file named by <font face=Kapl>f</font>.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING821>
<H2><FONT color="#20B2AA">Domain Name<font face=Kapl>  <A NAME=148>sys.getdomainname{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is a character vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The result is the name of the domain of the current network domain.</BLOCKQUOTE>
<A NAME=HEADING822>
<H2><FONT color="#20B2AA">getgid<font face=Kapl>  <A NAME=151>sys.getgid{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> getgid() </font>system call, which returns the (real) group ID of the current process.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING823>
<H2><FONT color="#20B2AA">Host Name<font face=Kapl>  <A NAME=154>sys.gethostname{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is a character vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The result is the name of the current host machine.</BLOCKQUOTE>
<A NAME=HEADING824>
<H2><FONT color="#20B2AA">getpid<font face=Kapl>  <A NAME=157>sys.getpid{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> getpid() </font>system call, which returns the process ID of the current process.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING825>
<H2><FONT color="#20B2AA">getppid<font face=Kapl>  <A NAME=160>sys.getppid{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> getppid() </font>system call, which returns the process ID of the parent of the current process.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING826>
<H2><FONT color="#20B2AA">geteuid<font face=Kapl>  <A NAME=163>sys.geteuid{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function returns the effective user id, corresponding to the name returned by <font face=Kapl>$whoami</font>.  See getuid, User Name, and User Name from ID, below.</BLOCKQUOTE>
<A NAME=HEADING827>
<H2><FONT color="#20B2AA">getuid<font face=Kapl>  <A NAME=166>sys.getuid{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> getuid() </font>system call, which returns the real user id of the current process.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING828>
<H2><FONT color="#20B2AA">User <A NAME=170>Name  <font face=Kapl>sys.getusername{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is a character vector, or the null.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The result is the name of the logged-in user: the "real" user name, in contrast to the
 "effective" user name, which is returned by <font face=Kapl>$whoami</font>.  These two
 names can differ when <font face=Kapl>su</font> or a<font face=Kapl> setuid script
 </font>is used. <font face=Kapl>sys.getusername{}</font> calls the c library
 function<font face=Courier> pwd=getpwuid(getuid()) </font>and returns
 the<font face=Courier> pwd-&gt;pw_name </font>member of <font face=Courier>
 pwd</font>.&nbsp; Null is returned if the requested entry is not found, or on an error or
 EOF; if null is returned, you can retry in  a few seconds and see whether the problem
 (perhaps an updating) is gone.</BLOCKQUOTE>
<A NAME=HEADING829>
<H2><FONT color="#20B2AA">User Name from ID<font face=Kapl> <A NAME=173> sys.username{i}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is a character vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function returns the user name corresponding to the user id <font face=Kapl>i</font>.  See geteuid, getuid, and User Name, above.</BLOCKQUOTE>
<A NAME=HEADING830>
<H2><FONT color="#20B2AA">Directory Entries<A NAME=177>  <font face=Kapl>sys.agetdents{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> is a character vector.  The result is a character matrix.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> holds a path name to a directory (see "<A HREF="#6">Path Names</A>").  The rows of the result are the names of the files in that directory.  The special files named <font face=Kapl>.</font>  and  <font face=Kapl>..</font>  are removed from the list.</BLOCKQUOTE>
<A NAME=HEADING831>
<H2><FONT color="#20B2AA">chdir<font face=Kapl>  <A NAME=181>sys.chdir{s}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>s</font> is a character vector.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
<A NAME=182>This function is equivalent to the<font face=Courier> chdir() </font>system call, for changing the process's working directory.  The argument <font face=Kapl>s</font> holds the path name of a directory (see "<A HREF="#6">Path Names</A>").  The result of the function is the result of the system call.  The PWD environment variable is set.<P>
The A+ system function <font face=Kapl>_cd</font> should be used in place of this function.</BLOCKQUOTE>
<A NAME=HEADING832>
<H2><FONT color="#20B2AA">mkdir  <A NAME=186><font face=Kapl>sys.mkdir{f;m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> is a character vector, and the right argument <font face=Kapl>m</font> is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> mkdir() </font>system call, for creating directories.  The left argument <font face=Kapl>f</font> holds the path name of a file (see "<A HREF="#6">Path Names</A>"), and the right argument <font face=Kapl>m</font> is the permissions mode (see "<A HREF="#10">File Permissions Mode</A>").  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING833>
<H2><FONT color="#20B2AA">rmdir  <A NAME=188><font face=Kapl>sys.rmdir{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> is a character vector.  The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> rmdir() </font>system call, for removing directories.  The argument <font face=Kapl>f</font> holds a path name of a file (see "<A HREF="#6">Path Names</A>").  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING834>
<H2><FONT color="#20B2AA">chmod<font face=Kapl>  <A NAME=191>sys.chmod{s;m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>s</font> is a character vector.  The right argument <font face=Kapl>m</font> and the result are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> chmod() </font>system call, for changing permissions mode of a file.  The left argument <font face=Kapl>s</font> holds the path name of a file (see "<A HREF="#6">Path Names</A>"), and the right argument <font face=Kapl>m</font> holds the permissions mode (see "<A HREF="#10">File Permissions Mode</A>").  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING835>
<H2><FONT color="#20B2AA">fchmod  <A NAME=194><font face=Kapl>sys.fchmod{f;m}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font>, the right argument <font face=Kapl>m</font>, and the result are all integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> fchmod() </font>system call, for changing permissions mode of a file.  The left argument <font face=Kapl>f</font> is a file descriptor, and the right argument <font face=Kapl>m</font> holds the file permissions mode (see "<A HREF="#10">File Permissions Mode</A>").  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING836>
<H2><FONT color="#20B2AA">chown<font face=Kapl>  <A NAME=197>sys.chown{s;m;n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>s</font> is a character vector.  The arguments <font face=Kapl>m</font> and <font face=Kapl>n</font>, and the result, are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> chown() </font>system call, for changing owner and group of a file.  The argument <font face=Kapl>s</font> holds the path name of a file (see "<A HREF="#6">Path Names</A>"), and the arguments <font face=Kapl>m</font> and <font face=Kapl>n</font> are the specifications for the owner and group, respectively.  The result of the function is the result of the system call.<P>
Only a superuser can change the owner of a file.  An owner can change the group of a file to one of which he is a member.</BLOCKQUOTE>
<A NAME=HEADING837>
<H2><FONT color="#20B2AA">fchown  <A NAME=200><font face=Kapl>sys.fchown{f;m;n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font>, <font face=Kapl>m</font>, and <font face=Kapl>n</font>, and the result, are all integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> fchown() </font>system call, for changing the owner and group of a file.  The argument <font face=Kapl>f</font> is a file descriptor, and the arguments <font face=Kapl>m</font> and <font face=Kapl>n</font> are the specifications for the owner and group, respectively.  The result of the function is the result of the system call.<P>
Only a superuser can change the owner of a file.  An owner can change the group of a file to one of which he is a member.</BLOCKQUOTE>
<A NAME=HEADING838>
<H2><FONT color="#20B2AA">CPU <A NAME=203>Time  <font face=Kapl>sys.cpu{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is a four-element integer vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function uses the<font face=Courier> times() </font>C-library routine to produce a four-element vector whose elements are (in order): user time of the current process; system time of the current process; user time for the children of the current process; system time for the children.</BLOCKQUOTE>
<A NAME=HEADING839>
<H2><FONT color="#20B2AA">Current <A NAME=206>GMT  <font face=Kapl>sys.tsgmt{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is a seven-element integer vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The result is the current Greenwich mean time, GMT, represented as: year, month, day, hour, minute, second, millisecond.</BLOCKQUOTE>
<A NAME=HEADING840>
<H2><FONT color="#20B2AA">Current <A NAME=209>Local Time  <font face=Kapl>sys.ts{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is a seven-element integer vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The result is the current local time, represented as: year, month, day, hour, minute, second, millisecond.</BLOCKQUOTE>
<A NAME=HEADING841>
<H2><FONT color="#20B2AA">Time of <A NAME=212>Day  <font face=Kapl>sys.gettod{x}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>x</font> is an integer vector.  The result is a two-element integer vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function uses the<font face=Courier> gettimeofday() </font>system call.  If the argument <font face=Kapl>x</font> has two elements then the first element represents minutes west of Greenwich and the second element is the Daylight Savings flag.  If <font face=Kapl>x</font> does not have two elements,<font face=Courier> gettimeofday() </font>is called with the NULL pointer as its second argument.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING842>
<H2><FONT color="#20B2AA">GMT  <A NAME=215><font face=Kapl>sys.ts1gmt{c}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument is an integer scalar.  The result is a seven-element integer vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument represents some number of seconds since 00:00:00 GMT, January 1, 1970.  The result is the equivalent GMT, represented as: year, month, day, hour, minute, second, 0.</BLOCKQUOTE>
<A NAME=HEADING843>
<H2><FONT color="#20B2AA">Local <A NAME=218>Time  <font face=Kapl>sys.ts1{c}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument is an integer scalar.  The result is a seven-element integer vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument represents some number of seconds since 00:00:00 GMT, January 1, 1970.  The result is the equivalent local time, represented as: year, month, day, hour, minute, second, 0.</BLOCKQUOTE>
<A NAME=HEADING844>
<H2><FONT color="#20B2AA">Time in <A NAME=222>Seconds  <font face=Kapl>sys.mkts1{x}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument is an integer vector of length 7.  The result is a scalar integer.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument should be  a local time in the form years, months, days, hours, minutes,
 seconds, microseconds.  The argument is changed to <font face=Kapl>7Ù¢1Õx</font> - i.e.,
 the given time with the microseconds ignored.<P>
The result is this time converted to the number of seconds since 00:00:00 GMT, Jan. 1,
 1970.  If the conversion cannot be made (1930 ... or 2094 ... , for example), the result
 is -1.<P>
For an argument <font face=Kapl>x</font> that is in the appropriate range,<font face=Kapl>
 sys.mkts1 sys.ts1 x </font>is<font face=Kapl> x</font>.</BLOCKQUOTE>
<A NAME=HEADING845>
<H2><FONT color="#20B2AA">Seconds in Epoch
 <A NAME=225><font face=Kapl>sys.secs_in_epoch{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
The result is an integer scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The result is the current time measured in seconds since 00:00:00 GMT, January 1, 1970.<P>
Note that the result, which is identical to <font face=Kapl>0#sys.gettod{0}</font>, can be
 used as an argument to <font face=Kapl>sys.ts1</font> or
 <font face=Kapl>sys.ts1gmt</font>.</BLOCKQUOTE>
<H2><FONT color="#20B2AA">Reset Time Zone
 <A NAME=226><font face=Kapl>sys.tzset{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
Resets the time zone to the current local time zone. The result is Null.</BLOCKQUOTE>
<A NAME=HEADING846>
<H2><FONT color="#20B2AA">dup<font face=Kapl>  <A NAME=228>sys.dup{f}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> and the result are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> dup() </font>system call, for
 duplicating the file descriptor <font face=Kapl>f</font>. The result of the function is
 the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING847>
<H2><FONT color="#20B2AA">dup2<font face=Kapl>
 <A NAME=231>sys.dup2{f;g}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
Both the left argument <font face=Kapl>f</font> and the right argument
 <font face=Kapl>g</font> are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> dup2() </font>system call, for duplicating the file descriptor <font face=Kapl>f</font> and specifying its value to be that of the file descriptor <font face=Kapl>g</font>.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING848>
<H2><FONT color="#20B2AA">Read <A NAME=234>from a Socket<font face=Kapl>  sys.aread{f;w}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> and the right argument <font face=Kapl>w</font> are integer scalars.  The result is a simple character, integer, or floating-point array.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> is the file descriptor of an internet stream socket.  The effect of this function is to read the simple character, integer, or floating-point array from the connected process.  If the right argument <font face=Kapl>w</font> is 0 then the system call<font face=Courier> select() </font>is used with the zero timer to determine whether the file descriptor is ready to read.  If not, execution ends and the result of this function is the Null.  Otherwise, or if the value of <font face=Kapl>w</font> is not 0, the<font face=Courier> read() </font>system call is invoked as often as necessary to build the array.  If the function succeeds, the result is that array.  If it fails for any reason, the result is the Null.</BLOCKQUOTE>
<A NAME=HEADING849>
<H2><FONT color="#20B2AA">Read <A NAME=237>from a Socket and Return the Status<font face=Kapl>  sys.areadstat{f;w;s}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font>, <font face=Kapl>w</font> and <font face=Kapl>s</font> are integer scalars.  The argument <font face=Kapl>s</font> may be modified directly by this function (see "<A HREF="#4">Functions that Modify Arguments</A>").  The result is a simple character, integer, or floating-point array.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is the same as <font face=Kapl>sys.aread{f;w}</font>, except that if the read fails the value of the argument <font face=Kapl>s</font> is set to -2 for an EWOULDBLOCK error, and -1 for all other errors.</BLOCKQUOTE>
<A NAME=HEADING850>
<H2><FONT color="#20B2AA">Read from a <A NAME=240>Socket within a Time Interval<font face=Kapl>  sys.areadwait{f;s;u}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font>, <font face=Kapl>s</font>, and <font face=Kapl>u</font> are integer scalars.  The result is a simple character, integer, or floating-point array.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is the same as <font face=Kapl>sys.aread{f;0}</font>, except that it uses the<font face=Courier> select() </font>system call with the timer set to <font face=Kapl>s</font> seconds and <font face=Kapl>u</font> microseconds, instead of 0.</BLOCKQUOTE>
<A NAME=HEADING851>
<H2><FONT color="#20B2AA">getsockopt  <A NAME=243><font face=Kapl>sys.getsockopt{s,l,on,ov,ol}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>s</font>, <font face=Kapl>l</font>, and <font face=Kapl>on</font>, and the result, are integer scalars.  The arguments <font face=Kapl>ov</font> and <font face=Kapl>ol</font> are integer vectors.  Both these arguments can be modified directly by the function (see "<A HREF="#4">Functions that Modify Arguments</A>").</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> getsockopt() </font>system call, for manipulating options associated with a socket.  The arguments of the function are in the same order as they will be in the call to<font face=Courier> getsockopt()</font>.&nbsp; The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING852>
<H2><FONT color="#20B2AA">setsockopt  <A NAME=246><font face=Kapl>sys.setsockopt{s,l,on,ov,ol}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>s</font>, <font face=Kapl>l</font>, <font face=Kapl>on</font>, and <font face=Kapl>ol</font>, and the result, are integer scalars.  The argument <font face=Kapl>ov</font> is an integer vector that can be modified directly by the function (see "<A HREF="#4">Functions that Modify Arguments</A>").</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> setsockopt() </font>system call, which manipulates options associated with a socket.  The arguments of the function are in the same order as they will be in the call to<font face=Courier> setsockopt()</font>.&nbsp; The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING853>
<H2><FONT color="#20B2AA">Socket <A NAME=249>Accept<font face=Kapl>
 sys.sockaccept{f;w}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
Both arguments <font face=Kapl>f</font> and <font face=Kapl>w</font>, and the result are
 scalar integers.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> is the file descriptor of an internet stream socket.
 This is a server function whose effect is to accept connections from clients. The argument
 <font face=Kapl>w</font> is a wait flag. If <font face=Kapl>w</font> is 1 then the
 function blocks, i.e., does not return, until a connection is made. Otherwise, it returns
 immediately. If a connection is made, the result is the file descriptor of the connected
 socket. The result is -1 in case of an error, or -2 if <font face=Kapl>w</font> is 0 and
 no connection is made. This function uses the following system calls:
 <font face=Courier>accept()</font>, <font face=Courier>select()</font>, and
 <font face=Courier>setsockopt()</font> (setting
 <font face=Courier>SO_KEEPALIVE</font>).</BLOCKQUOTE>
<A NAME=HEADING854>
<H2><FONT color="#20B2AA">Socket <A NAME=252>Block<font face=Kapl>
 sys.sockblock{f;b}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
Both arguments <font face=Kapl>f</font> and <font face=Kapl>b</font> are scalar integers.
 The result is the Null.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The argument <font face=Kapl>f</font> is a file descriptor of an internet stream socket.
 The effect of this function is to set blocking on the socket if the blocking flag
 <font face=Kapl>b</font> is 1, and to set no blocking if <font face=Kapl>b</font> is 0.
 If blocking is set to 1 then <font face=Kapl>sys.awrite</font> does not return until the
 A+ array is entirely written, even though this may require the system to break the array
 into pieces and send them separately. This function uses the system
 call<font face=Courier> ioctl()</font>.
</BLOCKQUOTE>
<A NAME=HEADING855>
<H2><FONT color="#20B2AA">Socket <A NAME=255>Connect
 <font face=Kapl>sys.sockconnect{h;p}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>h</font> is a character vector. The right argument
 <font face=Kapl>p</font> is an integer scalar. The result is an integer
 scalar.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The left argument <font face=Kapl>h</font> holds the name of a host machine, and the right
 argument <font face=Kapl>p</font> is an internet TCP port. This is a client function whose
 effect is to connect to an internet stream socket on that port and host; a listening
 server is expected to be present. The result is the file descriptor of the connected
 socket if the connection is successful, and -1 otherwise. This function uses the
 following system calls: <font face=Courier>connect()</font>,
 <font face=Courier>setsockopt()</font> (setting<font face=Courier> SO_KEEPALIVE</font>),
 and <font face=Courier>socket()</font>.</BLOCKQUOTE>
<A NAME=HEADING857>
<H2><FONT color="#20B2AA">Socket Listen<A NAME=262><font face=Kapl>
 sys.socklisten{p}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Argument and Result</b><BLOCKQUOTE>
The argument <font face=Kapl>p</font> and the result are scalar
 integers.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This is a server function whose effect is to create an internet stream socket for
 listening, and bind it to the internet TCP port specified by the argument
 <font face=Kapl>p</font>. The result is the file descriptor of the listening socket, or
 -1 if an error occurs. This function uses the following system calls:
 <font face=Courier>bind()</font>, <font face=Courier>listen()</font>,
 <font face=Courier>setsockopt()</font> (setting<font face=Courier> SO_REUSEADDR</font>),
 and <font face=Courier>socket()</font>.</BLOCKQUOTE>
<A NAME=HEADING856>
<H2><FONT color="#20B2AA">Socket <A NAME=259>ForkExec<font face=Kapl>
 sys.sfe{v;a}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>v</font> is a character vector and the right argument
 <font face=Kapl>a</font> is a simple integer vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function opens a bidirectional pipe, forks a new process, and makes the system
 call<font face=Courier> execvp()</font>.<P >
The arguments <font face=Kapl>v</font> and <font face=Kapl>a</font> hold valid first and
 second parameters to<font face=Courier> execvp()</font>, respectively. In particular, the
 right argument is a vector of pointers to character strings, and its last element is 0
 (if <font face=Kapl>x</font> is an A+ character vector, then
 <font face=Kapl>c.ptr x</font> is the pointer to the character string value of
 <font face=Kapl>x</font>). The result is the file descriptor for stdin and stdout of the
 forked process.</BLOCKQUOTE>
<A NAME=HEADING856A>
<H2><FONT color="#20B2AA">Delete Defunct Children<font face=Kapl>
 sys.zombiekiller{}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Result</b><BLOCKQUOTE>
This function returns a count of how many processes it reaped, for lack of
anything more useful.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function deletes any defunct child processes of the current A+ session.</BLOCKQUOTE>
<A NAME=HEADING858>
<H2><FONT color="#20B2AA">Write to a <A NAME=265>Socket<font face=Kapl>  sys.awrite{f;a}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> is a scalar integer, and the right argument <font face=Kapl>a</font> is any simple character, integer, or floating-point array.  The result is a scalar integer.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
The left argument <font face=Kapl>f</font> is the file descriptor of an internet stream socket.  The effect of this function is to send the A+ array <font face=Kapl>a</font> to the connected process.  The result is 0 if the function is successful.  The result is -2 if an EWOULDBLOCK error occurs; all other errors produce a result of -1.  This function uses the<font face=Courier> write() </font>system call.<P>
Note that if a blocking error occurs, then an initial segment of the array <font face=Kapl>a</font> was sent.</BLOCKQUOTE>
<A NAME=HEADING859>
<H2><FONT color="#20B2AA">Select<font face=Kapl>  <A NAME=268>sys.aselect{r;w;x;t}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments are all integer scalars or vectors, with <font face=Kapl>t</font> of length 0, 1, or 2.  The result is a five-element nested vector.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function calls the<font face=Courier> select() </font>system call with the arguments <font face=Kapl>r</font>, <font face=Kapl>w</font>, and <font face=Kapl>x</font> as the read, write, and exceptional condition file descriptors, respectively, to determine which are ready.  If the argument <font face=Kapl>t</font> is empty then select is called with the zero timer.  Otherwise, the first element of <font face=Kapl>t</font> is seconds and the second element, if present, is microseconds.  The width parameter of the<font face=Courier> select() </font>call is computed to be one plus the largest value among the file descriptors in <font face=Kapl>r</font>, <font face=Kapl>w</font>, and <font face=Kapl>x</font>.<P>
The first element of the result is the return code from<font face=Courier> select()</font>.&nbsp; The second element is the value of errno if that return code is negative, and 0 otherwise.  The last three elements are the modified <font face=Kapl>r</font>, <font face=Kapl>w</font>, and <font face=Kapl>x</font> lists produced by<font face=Courier> select()</font>.</BLOCKQUOTE>
<A NAME=HEADING860>
<H2><FONT color="#20B2AA">fcntl<font face=Kapl>  <A NAME=271>sys.fcntl{f;c;a}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font> and <font face=Kapl>a</font>, and the result, are integer scalars.  The argument <font face=Kapl>c</font> is a symbol scalar or integer scalar.  The argument <font face=Kapl>a</font> may be modified directly by this function (see "<A HREF="#12">Manifest Constants</A>").</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> fcntl() </font>system call, for performing a variety of functions on file descriptors.  The argument <font face=Kapl>f</font> is a file descriptor, and the argument <font face=Kapl>c</font> is a manifest constant (see "<A HREF="#4">Functions that Modify Arguments</A>") designating the function for the system call.  The argument <font face=Kapl>a</font> contains additional information, or is modified with new information, depending on <font face=Kapl>c</font>.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING861>
<H2><FONT color="#20B2AA">ioctl<font face=Kapl>  <A NAME=274>sys.ioctl{f;c;a}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font> and <font face=Kapl>a</font>, and the result, are integer scalars.  The argument <font face=Kapl>c</font> is a symbol scalar or integer scalar.  The argument <font face=Kapl>a</font> may be modified directly by this function (see "<A HREF="#4">Functions that Modify Arguments</A>").</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> ioctl() </font>system call, for performing special functions on an object with the open file descriptor <font face=Kapl>f</font>.  The argument <font face=Kapl>c</font> is a manifest constant (see "<A HREF="#12">Manifest Constants</A>") designating the function for the system call.  The argument <font face=Kapl>a</font> contains additional information, or is modified with new information, depending on <font face=Kapl>c</font>.  The result of the function is the result of the system call.</BLOCKQUOTE>
<A NAME=HEADING862>
<H2><FONT color="#20B2AA">read  <A NAME=277><font face=Kapl>sys.readinto{f;b;n}</font></FONT></H2>
<b>&nbsp;&nbsp;&nbsp;Arguments and Result</b><BLOCKQUOTE>
The arguments <font face=Kapl>f</font>, <font face=Kapl>b</font> , and <font face=Kapl>n</font>, and the result, are integer scalars.</BLOCKQUOTE>
<b>&nbsp;&nbsp;&nbsp;Definition</b><BLOCKQUOTE>
This function is equivalent to the<font face=Courier> read() </font>system call, for reading from a file.  The argument <font face=Kapl>f</font> is a file descriptor, <font face=Kapl>n</font> is the number of bytes to be read, and <font face=Kapl>b</font> is a pointer to a character string of length at least <font face=Kapl>n</font>.  The effect is to read at most <font face=Kapl>n</font> bytes from the file pointed to by <font face=Kapl>f</font> and place them in the character string pointed to by <font face=Kapl>b</font>.  The result is the actual number of bytes read.</BLOCKQUOTE>
<HR>
<ADDRESS><table width="100%"><tr><td><font size=2><i><a href="mailto:doc@aplusdev.org">doc@aplusdev.org</a></i></font></td><td align=right><font size=2><i>&#169; Copyright 1995&#150;2008 Morgan Stanley Dean Witter &amp; Co.  All rights reserved.</i></font></td></tr></table></ADDRESS>
</BODY>
</HTML>
